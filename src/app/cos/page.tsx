'use client';import React,{useState}from 'react';import{motion}from 'framer-motion';import Link from 'next/link';import Image from 'next/image';import Navbar from '@/components/Navbar';import Footer from '@/components/Footer';import PageHeader from '@/components/PageHeader';import GlassCard from '@/components/GlassCard';import SmoothScrollProvider from '@/components/SmoothScrollProvider';type CartItem={id:string;name:string;price:number;image:string;quantity:number;};const CartPage=()=>{const[cartItems,setCartItems]=useState<CartItem[]>([{id:'vopsea-decorativa-1',name:'Vopsea decorativă sidefată',price:189.99,image:'/images/product-1.jpg',quantity:2},{id:'izolatie-termica-1',name:'Sistem izolație termică premium',price:289.99,image:'/images/product-5.jpg',quantity:1},{id:'accesorii-1',name:'Set pensule premium',price:89.99,image:'/images/product-8.jpg',quantity:3}]);const[promoCode,setPromoCode]=useState('');const[promoApplied,setPromoApplied]=useState(false);const[promoDiscount,setPromoDiscount]=useState(0);const subtotal=cartItems.reduce((sum,item)=>sum+(item.price*item.quantity),0);const shipping=subtotal>500?0:20;const discount=promoApplied?subtotal*(promoDiscount/100):0;const total=subtotal+shipping-discount;const updateQuantity=(id:string,newQuantity:number)=>{if(newQuantity<1)return;setCartItems(prev=>prev.map(item=>item.id===id?{...item,quantity:newQuantity}:item));};const removeItem=(id:string)=>{setCartItems(prev=>prev.filter(item=>item.id!==id));};const applyPromoCode=()=>{if(promoCode.toLowerCase()==='izopaint10'){setPromoApplied(true);setPromoDiscount(10);}else{alert('Cod promoțional invalid');setPromoApplied(false);setPromoDiscount(0);}};const clearCart=()=>{setCartItems([]);};return(<SmoothScrollProvider> <main className="min-h-screen bg-[#1A1A1A]"> <Navbar/> <PageHeader title="Coșul Tău de Cumpărături" subtitle="Revizuiește produsele și finalizează comanda" videoSrc="/videos/paintbrush.mp4"/> <section className="py-16 px-4 relative"> <div className="absolute inset-0 z-0"> <div className="absolute top-1/4 right-1/4 w-96 h-96 rounded-full bg-[#B99C4B]opacity-5 blur-3xl"> </div> <div className="absolute bottom-1/4 left-1/4 w-80 h-80 rounded-full bg-[#F0E4B2]opacity-5 blur-3xl"> </div> </div> <div className="container mx-auto relative z-10">{cartItems.length>0?(<div className="grid grid-cols-1 lg:grid-cols-3 gap-8">{ }<div className="lg:col-span-2"> <GlassCard accent="gold" className="mb-8"> <div className="flex justify-between items-center mb-8"> <h2 className="text-2xl font-bold text-white">Produse({cartItems.reduce((sum,item)=>sum+item.quantity,0)})</h2> <button onClick={clearCart}className="text-white/60 hover:text-[#F0E4B2]text-sm flex items-center transition-colors"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" className="mr-1" xmlns="http:<path d="M3 6H5H21" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/> <path d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/> </svg>Golește coșul</button> </div>{ }<div className="space-y-6">{cartItems.map((item)=>(<div key={item.id}className="flex flex-col sm:flex-row border-b border-white/10 pb-6">{ }<div className="w-full sm:w-24 h-24 bg-[#333]rounded-lg overflow-hidden mb-4 sm:mb-0 sm:mr-4 relative"> <Image src={item.image}alt={item.name}fill className="object-cover" sizes="96px" onError={(e)=>{e.currentTarget.style.opacity='0';}}/> </div>{ }<div className="flex-grow flex flex-col sm:flex-row justify-between"> <div> <h3 className="text-lg font-semibold text-white mb-1">{item.name}</h3> <p className="text-[#F0E4B2]font-bold mb-2">{item.price.toFixed(2)}RON</p> </div> <div className="flex items-center justify-between sm:justify-end sm:space-x-6">{ }<div className="flex items-center"> <button className="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-[#B99C4B]/30" onClick={()=>updateQuantity(item.id,item.quantity-1)}> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http:<path d="M5 12H19" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/> </svg> </button> <span className="w-10 text-center text-white">{item.quantity}</span> <button className="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-[#B99C4B]/30" onClick={()=>updateQuantity(item.id,item.quantity+1)}> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http:<path d="M12 5V19" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/> <path d="M5 12H19" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/> </svg> </button> </div>{ }<button className="text-white/60 hover:text-[#F0E4B2]transition-colors" onClick={()=>removeItem(item.id)}> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http:<path d="M18 6L6 18" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/> <path d="M6 6L18 18" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/> </svg> </button> </div> </div> </div>))}</div> </GlassCard>{ }<div className="mt-8"> <h2 className="text-2xl font-bold text-white mb-6">Ai putea fi interesat și de</h2> <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">{[{id:'related-1',name:'Vopsea decorativă metalică',price:219.99,image:'/images/product-2.jpg'},{id:'related-2',name:'Vopsea ecologică mată',price:159.99,image:'/images/product-3.jpg'},{id:'related-3',name:'Panouri izolație fonică',price:249.99,image:'/images/product-6.jpg'}].map((product)=>(<GlassCard key={product.id}className="relative group"> <div className="aspect-square w-full relative overflow-hidden rounded-lg mb-3"> <div className="absolute inset-0 w-full h-full bg-[#333]"> <Image src={product.image}alt={product.name}fill className="object-cover transition-transform duration-500 group-hover:scale-105" sizes="(max-width:768px)100vw,(max-width:1200px)50vw,33vw" onError={(e)=>{e.currentTarget.style.opacity='0';}}/> </div> </div> <h3 className="text-white font-medium text-base mb-1">{product.name}</h3> <p className="text-[#F0E4B2]font-bold">{product.price.toFixed(2)}RON</p> <button className="absolute top-2 right-2 w-8 h-8 rounded-full bg-[#B99C4B]text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http:<path d="M12 5V19" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/> <path d="M5 12H19" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/> </svg> </button> </GlassCard>))}</div> </div> </div>{ }<div className="lg:col-span-1"> <GlassCard accent="light" className="sticky top-24"> <h2 className="text-2xl font-bold text-white mb-6">Sumar Comandă</h2> <div className="space-y-3 mb-6"> <div className="flex justify-between text-white/80"> <span>Subtotal</span> <span>{subtotal.toFixed(2)}RON</span> </div> <div className="flex justify-between text-white/80"> <span>Livrare</span> <span>{shipping===0?'GRATUIT':`${shipping.toFixed(2)}RON`}</span> </div>{promoApplied&&(<div className="flex justify-between text-[#F0E4B2]"> <span>Discount({promoDiscount}%)</span> <span>-{discount.toFixed(2)}RON</span> </div>)}<div className="pt-4 border-t border-white/10 flex justify-between font-bold"> <span className="text-white">Total</span> <span className="text-[#F0E4B2]text-xl">{total.toFixed(2)}RON</span> </div> </div>{ }<div className="mb-6"> <label className="block text-white/80 text-sm mb-2">Cod promoțional</label> <div className="flex"> <input type="text" value={promoCode}onChange={(e)=>setPromoCode(e.target.value)}className="flex-grow px-3 py-2 rounded-l-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-1 focus:ring-[#B99C4B]" placeholder="Introdu codul"/> <button onClick={applyPromoCode}className="px-4 py-2 bg-[#B99C4B]text-white rounded-r-lg hover:bg-[#B99C4B]/80 transition-colors">Aplică</button> </div>{promoApplied&&(<div className="mt-2 text-[#F0E4B2]text-sm flex items-center"> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" className="mr-1" xmlns="http:<path d="M20 6L9 17L4 12" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/> </svg>Cod promoțional aplicat cu succes!</div>)}</div>{ }<div className="space-y-3"> <button className="w-full py-3 bg-[#B99C4B]text-white rounded-full hover:bg-[#B99C4B]/90 transition-colors text-lg font-medium">Finalizează Comanda</button> <Link href="/produse" className="block w-full py-3 text-center border border-white/30 text-white rounded-full hover:bg-white/5 transition-colors text-base">Continuă Cumpărăturile</Link> </div>{ }<div className="mt-6 flex items-center justify-center text-white/60 text-sm"> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" className="mr-2" xmlns="http:<path d="M19 11H5V21H19V11Z" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/> <path d="M17 9V8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8V9" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/> </svg>Plată securizată garantată</div> </GlassCard> </div> </div>):(<GlassCard className="max-w-2xl mx-auto text-center py-12"> <div className="mb-6 inline-block p-4 bg-white/5 rounded-full"> <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http:<path d="M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z" stroke="#B99C4B" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/> <path d="M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z" stroke="#B99C4B" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/> <path d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" stroke="#F0E4B2" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/> </svg> </div> <h2 className="text-2xl font-bold text-white mb-3">Coșul tău este gol</h2> <p className="text-white/70 mb-6 max-w-md mx-auto">Se pare că nu ai adăugat încă niciun produs în coș. Descoperă gama noastră de produse premium.</p> <Link href="/produse" className="inline-block px-8 py-3 mt-4 bg-[#B99C4B]text-white rounded-full text-lg font-medium hover:bg-[#B99C4B]/80 transition-colors">Vezi produse</Link> </GlassCard>)}</div> </section> <Footer/> </main> </SmoothScrollProvider>);};export default CartPage;